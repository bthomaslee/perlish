# Perlish
## A simple shell script for ordinary humans who want to write complex, perl-compatible regular expressions (PCREs).

A "regular expression" is a set of characters (a, b, c, *, +, etc.) that means something coherent according to the rules of a particular programming language. Most of the time, programmers use the phrase "regular expression" to refer to a set of computer characters used as a "match string" for finding instances of a string of text in a given text file. In a standard search engine (e.g., Google), a "match string" is the string of characters you type into the search bar, where each character you type corresponds with a single letter, number, symbol, etc. A regular expression is more flexible and precise than that. For example, using a regular expression, you can tell your computer to search for every whole word that begins with the letters "lov" followed by at least one more letter, which would match "love," "loves," "loving," "lover," etc. That's the power of regular expressions.

"Perl" is a computer programming language. A perl-compatible regular expression (PCRE), then, is a regular expression that programs written in perl can interpret and use. Sometimes, PCREs can be difficult for ordinary humans to read and write. So I wrote a simplified version of the syntax for PCREs, one that I found easier to read and write, and I called it "Perlish." And I wrote a shell script to convert Perlish expressions into PCREs so you can write the Perlish expression and then copy and paste the PCRE wherever you want.

Here's how to write Perlish expressions.

### Building Blocks

| Expression | Interpretation |
| :------------ | :------------ |
| **words** | "words" *must* appear on the page |
| **[words]** x | "words" *must* appear on the page, before x |
| x **[words]** | "words" *must* appear on the page, after x |
| **~[words]** x | "words" *must not* appear on the page, before x |
| x **~[words]** | "words" *must not* appear on the page, after x |
| [words]**{n}** x | with n words between "words" and x <br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {n<sup>1</sup>-n<sup>z</sup>} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n<sup>1</sup>, n<sup>2</sup>, n<sup>3</sup> . . . or n<sup>z</sup> words <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {n+/n-} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n or more/less words <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {>n/\<n} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; greater/less than n words <br> &nbsp; |
| **(characters)** | "characters" may appear, too |
| **\*** | one or more letters and/or digits |
| **a/b**  | a *or* b |
| **/string/** | "string" is a perl-compatible regular expression |
| **\\** | interpret the next character literally <br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  \\[ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \\] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \\( &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \\) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \\\* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \\/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \\"  <br> &nbsp; |

### Rules

#### *a. Queries may have three parts.*

| 1 | 2 | 3 |
| :------------: | :------------: | :------------: |
| **[words]** | **words** | **[words]** |
| <sub>context before</sub> | <sub>core</sub> | <sub>context after</sub> |

#### *b. Context parts may be multiplied.*

| 1a | 1b | 2 | 3 |
| :------------: | :------------: | :------------: | :------------: |
| **[words]** | **[words]** | **words** | **[words]** |
| <sub>context before<sub>1</sub></sub> | <sub>context before<sub>2</sub></sub> | <sub>core</sub> | <sub>context after</sub> |

#### *c. Context parts may be divided.*

| 1 | 2 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
| :------------: | :------------: | :------------: |
| **[ [ words ] words [ words ] ]** | **words** | - |
| /------------<sub>context before</sub>------------/ | <sub>core</sub> | - |
| <sub>/---context---/---core---/--context---/</sub> | - | - |

#### *d. Queries match whole words only.*

### Example Set<sub>a</sub>
*Observe the <span style="background-color: #B8860B"><span style="color: #FFFFFF">matches</span></span> generated by each query (if any) in **bold**.*

#### tyrant
<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrant**</span></span>, tyrants, tyranny, (tyrannies), tyrannize, tyrannical, tyrannicide

#### tyrant(s)
<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrant**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrants**</span></span>, tyranny, (tyrannies), tyrannize, tyrannical, tyrannicide

#### tyran
tyrant, tyrants, tyranny, (tyrannies), tyrannize, tyrannical, tyrannicide

####  tyran*
<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrant**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrants**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyranny**</span></span>, (<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannies**</span></span>), <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannize**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannical**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannicide**</span></span>

####  tyrann*
tyrant, tyrants, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyranny**</span></span>, (<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannies**</span></span>), <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannize**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannical**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannicide**</span></span>

#### tyrant*
tyrant, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrants**</span></span>, tyranny, (tyrannies), tyrannize, tyrannical, tyrannicide

#### tyrant(\*)
<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrant**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrants**</span></span>, tyranny, (tyrannies), tyrannize, tyrannical, tyrannicide

#### tyranny/tyrannize/tyrannical
tyrant, tyrants, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyranny**</span></span>, (tyrannies), <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannize**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannical**</span></span>, tyrannicide

#### tyrann(y)(ize)(ical)
tyrant, tyrants, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyranny**</span></span>, (tyrannies), <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannize**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannical**</span></span>, tyrannicide

#### tyrann(y)(i)(ze)(c)(al)(ide)
tyrant, tyrants, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyranny**</span></span>, (tyrannies), <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannize**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannical**</span></span>, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannicide**</span></span>

#### tyrannies
tyrant, tyrants, tyranny, (<span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannies**</span></span>), tyrannize, tyrannical, tyrannicide

#### \\(tyrannies\\)
tyrant, tyrants, tyranny, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**(tyrannies)**</span></span>, tyrannize, tyrannical, tyrannicide

#### /tyrann\w{4}/
tyrant, tyrants, tyranny, (tyrannies), tyrannize, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**tyrannical**</span></span>, tyrannicide

#### /tyrann*/
tyrant, tyrants, tyranny, (tyrannies), tyrannize, tyrannical, tyrannicide

### Example Set<sub>b</sub>
*Observe the <span style="background-color: #B8860B"><span style="color: #FFFFFF">matches</span></span> generated by each query (if any) in **bold**.*

####  Sethe
You your best thing, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**Sethe**</span></span>. You are.

####  [best] Sethe
You your best thing, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**Sethe**</span></span>. You are.

####  [You your]{2} Sethe
You your best thing, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**Sethe**</span></span>. You are.

####  best [are]{1-3}
You your <span style="background-color: #B8860B"><span style="color: #FFFFFF">**best**</span></span> thing, Sethe. You are.

#### best [are]{1-2}
You your best thing, Sethe. You are.

#### [You]{2+} thing [You]
You your best <span style="background-color: #B8860B"><span style="color: #FFFFFF">**thing**</span></span>, Sethe. You are.

#### [You]{3+} thing [You]
You your best thing, Sethe. You are.

#### best thing ~[Ella]
You your <span style="background-color: #B8860B"><span style="color: #FFFFFF">**best thing**</span></span>, Sethe. You are.

#### [things] are
You your best thing, Sethe. You are.

#### ~[things] are
You your best thing, Sethe. You <span style="background-color: #B8860B"><span style="color: #FFFFFF">**are**</span></span>.

#### [thing(s)] are
You your best thing, Sethe. You <span style="background-color: #B8860B"><span style="color: #FFFFFF">**are**</span></span>.

#### ~[thing(s)] are
You your best thing, Sethe. You are.

####  [ [your] thing [You] ] Sethe
You your best thing, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**Sethe**</span></span>. You are.

####  [ [your] thing [ [best] You ] Sethe
You your best thing, <span style="background-color: #B8860B"><span style="color: #FFFFFF">**Sethe**</span></span>. You are.

####  [ [your] thing [ ~[best] You ] Sethe
You your best thing, Sethe. You are.

#### (Y/y)ou(\*)
<span style="background-color: #B8860B"><span style="color: #FFFFFF">**You**</span></span> <span style="background-color: #B8860B"><span style="color: #FFFFFF">**your**</span></span> best thing, Sethe. <span style="background-color: #B8860B"><span style="color: #FFFFFF">**You**</span></span> are.

#### (Y/y)ou\*
You <span style="background-color: #B8860B"><span style="color: #FFFFFF">**your**</span></span> best thing, Sethe. You are.

#### (Y/y)ou
<span style="background-color: #B8860B"><span style="color: #FFFFFF">**You**</span></span> your best thing, Sethe. <span style="background-color: #B8860B"><span style="color: #FFFFFF">**You**</span></span> are.

#### you(\*)
You <span style="background-color: #B8860B"><span style="color: #FFFFFF">**your**</span></span> best thing, Sethe. You are.

#### you\*
You <span style="background-color: #B8860B"><span style="color: #FFFFFF">**your**</span></span> best thing, Sethe. You are.

#### you
You your best thing, Sethe. You are.

####  [you(\*)]{\<4} ~[worst/worse] You ~[/\d+/]
You your best thing, Sethe. <span style="background-color: #B8860B"><span style="color: #FFFFFF">**You**</span></span> are.
